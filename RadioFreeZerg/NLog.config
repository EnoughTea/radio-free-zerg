<?xml version="1.0" encoding="utf-8" ?>
<nlog xmlns="http://www.nlog-project.org/schemas/NLog.xsd"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">

    <target xsi:type="File"
            name="logusual"
            fileName="app.log"
            layout="${date}|${level:uppercase=true}|${message}${onexception:${newline}${exception:format=tostring}}|${logger}|${all-event-properties}"
            deleteOldFileOnStartup="true"/>

    <target xsi:type="File"
            name="logerrors"
            fileName="error.log"
            archiveNumbering="DateAndSequence"
            archiveAboveSize="5000000"
            maxArchiveFiles="1"
            layout="${date}|${level:uppercase=true}|${message}${onexception:${newline}${exception:format=tostring}}|${logger}|${all-event-properties}"
            autoFlush="true"/>

    <rules>
        <logger name="*" minlevel="Debug" maxlevel="Warn" writeTo="logusual" />
        <logger name="*" minlevel="Error" writeTo="logerrors" />
    </rules>
</nlog>